"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[2889],{6473:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"part3/chapter12-ros2-realtime-control","title":"chapter12-ros2-realtime-control","description":"Chapter 12: ROS2 and Real-time Control","source":"@site/docs/part3/chapter12-ros2-realtime-control.md","sourceDirName":"part3","slug":"/part3/chapter12-ros2-realtime-control","permalink":"/hakathon-1/docs/part3/chapter12-ros2-realtime-control","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-humanoid-book/physical-ai-humanoid-book/tree/main/docs/part3/chapter12-ros2-realtime-control.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"chapter11-simulation-pipelines","permalink":"/hakathon-1/docs/part3/chapter11-simulation-pipelines"},"next":{"title":"chapter13-embedded-microcontrollers","permalink":"/hakathon-1/docs/part3/chapter13-embedded-microcontrollers"}}');var o=n(4848),r=n(8453);const s={},a=void 0,l={},c=[{value:"Chapter 12: ROS2 and Real-time Control",id:"chapter-12-ros2-and-real-time-control",level:3}];function d(e){const i={code:"code",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.h3,{id:"chapter-12-ros2-and-real-time-control",children:"Chapter 12: ROS2 and Real-time Control"}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Introduction"})}),"\n",(0,o.jsx)(i.p,{children:"The Robot Operating System (ROS), particularly its second iteration, ROS2, has become a de facto standard for developing complex robotic applications. It provides a flexible framework that abstracts away much of the underlying hardware, offering a collection of tools, libraries, and conventions for building distributed robotic systems. For humanoid robots, where precise and timely execution of commands is critical for stability and safety, the integration of ROS2 with real-time control principles is paramount. This chapter delves into the fundamentals of ROS2 and its role in orchestrating sophisticated humanoid behaviors, emphasizing the challenges and solutions for achieving real-time performance."}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Introduction to ROS2 (Robot Operating System 2)"})}),"\n",(0,o.jsx)(i.p,{children:"ROS2 is an open-source middleware suite designed to help developers build robot applications. It is a significant evolution from ROS1, with key improvements making it more suitable for production-grade, multi-robot, and real-time systems:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Distributed Architecture:"})," ROS2 is built on a Data Distribution Service (DDS) layer, enabling direct, peer-to-peer communication between nodes without a central master. This enhances scalability, robustness, and fault tolerance."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Real-time Capabilities:"})," Improved real-time performance due to a redesigned core, allowing for more predictable execution times crucial for control loops in dynamic systems like humanoids."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Quality of Service (QoS) Policies:"})," Users can configure communication reliability, durability, and latency to match application-specific needs, essential for control systems and sensor data streaming."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Multi-Robot Support:"})," Designed with multi-robot systems in mind, facilitating coordination and communication among multiple robots."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Security:"})," Incorporates security features (authentication, encryption, access control) at the DDS layer, vital for safe and secure deployments."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Language Agnostic:"})," Supports multiple programming languages (Python, C++, Java, etc.), offering flexibility for development."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Real-time Operating Systems (RTOS) and Robotics"})}),"\n",(0,o.jsx)(i.p,{children:"Real-time control systems are characterized by their ability to execute tasks within strict timing deadlines. For humanoids, missing a deadline in a balance control loop could lead to instability or falls."}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Definition of Real-time:"}),' Not necessarily "fast," but "predictable." A real-time system guarantees a response within a specified time constraint, even if that time is not extremely short.']}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Hard vs. Soft Real-time:"}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Hard Real-time:"})," Missing a deadline is a catastrophic failure (e.g., flight control, medical devices)."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Soft Real-time:"})," Missing a deadline degrades performance but does not lead to total failure (e.g., multimedia streaming). Robotic control often requires hard or firm real-time guarantees."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"RTOS Features:"})," RTOS provide features like priority-based pre-emptive scheduling, fast context switching, and inter-process communication mechanisms (e.g., mutexes, semaphores) that are optimized for deterministic behavior."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Integration with ROS2:"})," While ROS2 itself has real-time improvements, achieving true hard real-time performance often requires running ROS2 nodes on top of an underlying RTOS (e.g., VxWorks, QNX, Xenomai, or Linux with PREEMPT_RT patch). This ensures that critical control tasks receive CPU time when needed."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:(0,o.jsx)(i.strong,{children:"Developing ROS2 Nodes for Humanoids"})}),"\n",(0,o.jsx)(i.p,{children:'A ROS2 application is composed of multiple independent executables called "nodes," which communicate with each other using messages.'}),"\n",(0,o.jsxs)(i.ul,{children:["\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Nodes:"}),' Typically perform a single, well-defined function (e.g., a "joint_state_publisher" node, a "motion_controller" node, a "vision_processing" node).']}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Topics:"})," Asynchronous, many-to-many communication channels. Nodes publish messages to topics, and other nodes subscribe to them. For example, a camera node might publish to ",(0,o.jsx)(i.code,{children:"/image_raw"}),", and a vision processing node subscribes to it."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Services:"})," Synchronous request/reply communication, used for short-lived, client-server interactions (e.g., commanding a robot to move to a specific pose and waiting for confirmation)."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Actions:"}),' Long-running, goal-oriented interactions with periodic feedback and the ability to be preempted. Ideal for complex tasks like "walk to target" or "pick up object."']}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Parameters:"})," Dynamic configuration values for nodes, allowing tuning of behavior without recompiling."]}),"\n",(0,o.jsxs)(i.li,{children:[(0,o.jsx)(i.strong,{children:"Launch Files:"})," XML or Python files used to define and start multiple ROS2 nodes and configure their parameters, simplifying the deployment of complex robot systems."]}),"\n"]}),"\n",(0,o.jsx)(i.p,{children:"For humanoid development, ROS2 facilitates the integration of diverse components: from low-level joint controllers (often running on microcontrollers and exposing ROS2 interfaces) to high-level perception and planning modules. It enables a modular and scalable approach to building highly complex, distributed intelligent systems."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,o.jsx)(i,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>s,x:()=>a});var t=n(6540);const o={},r=t.createContext(o);function s(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);